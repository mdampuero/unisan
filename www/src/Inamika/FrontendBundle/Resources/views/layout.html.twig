<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% block title %}{{ setting.getData.title }} {% if app.request.attributes.get('_route_params')._breadcrumbs is defined %} - {{ (app.request.attributes.get('_route_params')['_breadcrumbs']|last)['label'] | trans }}{% endif %}
    {% endblock %}</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">
  {% block stylesheet %}
  <link href="{{ asset('bundles/inamikafrontend/') }}img/u90.png" rel="icon">
  {# <link href="{{ asset('bundles/inamikafrontend/') }}img/apple-touch-icon.png" rel="apple-touch-icon"> #}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="{{ asset('bundles/inamikafrontend/lib/animate/animate.min.css') }}" >
  <link rel="stylesheet" href="{{ asset('bundles/inamikafrontend/css/style.css') }}" >
  <link href="{{ asset('bundles/inamikabackoffice/assets/plugins/toast-master/css/jquery.toast.css') }}" rel="stylesheet">
  <link href="{{ asset('bundles/inamikabackoffice/assets/plugins/sweetalert/sweetalert.css') }}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  {% endblock %}
  {% block javascripts_head %}
  {% endblock %}
</head>
<body>
    <div id="loading">
      <div class='uil-ring-css' style='transform:scale(0.79);'>
        <div></div>
      </div>
    </div>
    {% block body %}
    {% endblock %}
    {{ include('InamikaFrontendBundle::footer.html.twig') }}
    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
    {% block javascripts %}
    <script src="{{ asset('bundles/inamikafrontend/') }}lib/jquery/jquery.min.js"></script>
    <script src="{{ asset('bundles/inamikafrontend/') }}lib/easing/easing.min.js"></script>
    <script src="{{ asset('bundles/inamikafrontend/') }}lib/wow/wow.min.js"></script>
    <script src="{{ asset('bundles/inamikabackoffice/assets/plugins/sweetalert/sweetalert.min.js') }}"></script>
    <script src="{{ asset('bundles/inamikabackoffice/assets/plugins/toast-master/js/jquery.toast.js') }}"></script>
    <script src="{{ asset('bundles/inamikafrontend/') }}lib/jquery/jquery-migrate.min.js"></script>
    <script src="{{ asset('bundles/inamikafrontend/') }}lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="{{ asset('bundles/inamikafrontend/') }}lib/waypoints/waypoints.min.js"></script>
    <script src="{{ asset('bundles/inamikafrontend/') }}lib/counterup/counterup.min.js"></script>
    <script src="{{ asset('bundles/inamikafrontend/') }}lib/superfish/hoverIntent.js"></script>
    <script src="{{ asset('bundles/inamikafrontend/') }}lib/superfish/superfish.min.js"></script>
    <script src="{{ asset('bundles/inamikafrontend/') }}js/main.js"></script>
    <script>
      var listCart=[];
      var totalCart=0;
      var loading={
        show: function (){
            return $("#loading").fadeIn();
        },
        hide: function (){
            return $('#loading').hide();
        }
      }
      function updateBadge(){
        totalCart=0;
        loadStorageCart();
        for (let i = 0; i < listCart.length; i++) {
          totalCart+=listCart[i].quantity*listCart[i].price;
        }
        $("#badgeQuantity").html(listCart.length);
        $("#badgeTotal").html("$ "+totalCart);
      }
      
      function loadStorageCart() {
        if (JSON.parse(localStorage.getItem("cart"))) {
          listCart = JSON.parse(localStorage.getItem("cart"));
        }
      }
      function saveStorageCart() {
        localStorage.setItem("cart", JSON.stringify(listCart));
      }
      function errorGeneral(){
        $.toast({
            heading: 'Ups!',
            text: `OcurriÃ³ un error inesperado` ,
            position: 'bottom-right',
            icon: 'error',
            hideAfter: 3000
        });
      }
      $("a.beforeSpinner").on("click",function (){
        loading.show();
      })
      $(function (){ 
        updateBadge(); 
      });
    </script>
    {% endblock %}
    </body>
</html>
